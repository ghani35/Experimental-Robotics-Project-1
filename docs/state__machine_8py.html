<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Assignment 1: state_machine.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Assignment 1
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">surveillance Robot</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">state_machine.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="state__machine_8py_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstate__machine_1_1filling__map.html">state_machine.filling_map</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="classstate__machine_1_1filling__map.html" title="The filling_map class.The robots keeps waiting in room E untill the whole map is loaded,...">filling_map</a> class.The robots keeps waiting in room E untill the whole map is loaded, the robot can know if the map is fully loaded by subscribing to the topic /map_state.  <a href="classstate__machine_1_1filling__map.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstate__machine_1_1moving__in__corridors.html">state_machine.moving_in_corridors</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The moving in corridors class.The robots keeps moving between C1 and C2 for infinit time, the robots keep cheking the state of the battery by subscribing to the topic /battery_state, if the battery is low the robot goes to CHARGING state trough the transition tired.  <a href="classstate__machine_1_1moving__in__corridors.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstate__machine_1_1visiting__urgent.html">state_machine.visiting_urgent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The visting_urgent class.First, the robots checks if the battery is low goes to CHARGING state, else it checkes it the urgent room is reacheable by quering the object properties of the robot canReach, if the room can be reached it visit it and return back to the MOVING_IN_CORRIDORS trough the transition visited.  <a href="classstate__machine_1_1visiting__urgent.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstate__machine_1_1charging.html">state_machine.charging</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The charging class.  <a href="classstate__machine_1_1charging.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacestate__machine"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html">state_machine</a></td></tr>
<tr class="memdesc:namespacestate__machine"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the <a class="el" href="namespacestate__machine.html" title="This is the state_machine node.">state_machine</a> node. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad7934580f48240658ac639c86f690c0f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#ad7934580f48240658ac639c86f690c0f">state_machine.battery_callback</a> (data)</td></tr>
<tr class="memdesc:ad7934580f48240658ac639c86f690c0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function of /battery_state, used in all the states except <b>FILLING_MAP</b> to see if the battery is low and change the state to <b>CHARGING</b>  <a href="namespacestate__machine.html#ad7934580f48240658ac639c86f690c0f">More...</a><br /></td></tr>
<tr class="separator:ad7934580f48240658ac639c86f690c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df1431cc37cf831d9dde75e5436a771"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a5df1431cc37cf831d9dde75e5436a771">state_machine.map_state_callback</a> (data)</td></tr>
<tr class="memdesc:a5df1431cc37cf831d9dde75e5436a771"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function of /map_state, used in the state <b>FILLING_MAP</b> to see if the map is fully loaded and quit this state forever.  <a href="namespacestate__machine.html#a5df1431cc37cf831d9dde75e5436a771">More...</a><br /></td></tr>
<tr class="separator:a5df1431cc37cf831d9dde75e5436a771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c680ce705e6052fa07c6cece21743d0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a5c680ce705e6052fa07c6cece21743d0">state_machine.main</a> ()</td></tr>
<tr class="separator:a5c680ce705e6052fa07c6cece21743d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a940d9e6b59330364a8daf2456d8eec2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a940d9e6b59330364a8daf2456d8eec2a">state_machine.timer</a> = 1665579740</td></tr>
<tr class="memdesc:a940d9e6b59330364a8daf2456d8eec2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">global variabl, it is a timer that is updated in every single movment of the robot, The default initial value = 1665579740 and can be changed by setting the parameter /timer  <a href="namespacestate__machine.html#a940d9e6b59330364a8daf2456d8eec2a">More...</a><br /></td></tr>
<tr class="separator:a940d9e6b59330364a8daf2456d8eec2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9322672684b94bc7a0dfd332548511f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a9322672684b94bc7a0dfd332548511f0">state_machine.map_state</a> = 0</td></tr>
<tr class="memdesc:a9322672684b94bc7a0dfd332548511f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the state of the map, <b>0</b> if it is not fully loaded and <b>1</b> if it is fully loaded.  <a href="namespacestate__machine.html#a9322672684b94bc7a0dfd332548511f0">More...</a><br /></td></tr>
<tr class="separator:a9322672684b94bc7a0dfd332548511f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a7966e9d4ea1dd88f7edbf77e8b67b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#ad2a7966e9d4ea1dd88f7edbf77e8b67b">state_machine.battery</a> = 1</td></tr>
<tr class="memdesc:ad2a7966e9d4ea1dd88f7edbf77e8b67b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the state of the battery <b>0</b> if it is low and <b>1</b> if it is full.  <a href="namespacestate__machine.html#ad2a7966e9d4ea1dd88f7edbf77e8b67b">More...</a><br /></td></tr>
<tr class="separator:ad2a7966e9d4ea1dd88f7edbf77e8b67b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e497b9927ece26bf222ca1a5eb185f1"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a5e497b9927ece26bf222ca1a5eb185f1">state_machine.to_visit</a> = 'R'</td></tr>
<tr class="memdesc:a5e497b9927ece26bf222ca1a5eb185f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the name of the <b>urgent</b> room that needs to be visited as soon as possible.  <a href="namespacestate__machine.html#a5e497b9927ece26bf222ca1a5eb185f1">More...</a><br /></td></tr>
<tr class="separator:a5e497b9927ece26bf222ca1a5eb185f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf742d51062b4fd0e8e4f68f5654462b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#acf742d51062b4fd0e8e4f68f5654462b">state_machine.visit</a> = &quot;&lt;http://bnc/exp-rob-lab/2022-23#&gt;&quot;</td></tr>
<tr class="memdesc:acf742d51062b4fd0e8e4f68f5654462b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the the returned string of the <b>urgent</b> room to be visited, used to compare it with the <b>querred</b> data from the ontology.  <a href="namespacestate__machine.html#acf742d51062b4fd0e8e4f68f5654462b">More...</a><br /></td></tr>
<tr class="separator:acf742d51062b4fd0e8e4f68f5654462b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e08bc96a59c58016e2d87e6f9e3212"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a21e08bc96a59c58016e2d87e6f9e3212">state_machine.timeR1</a> = rospy.get_param(&quot;/visitedAt_R1&quot;)</td></tr>
<tr class="memdesc:a21e08bc96a59c58016e2d87e6f9e3212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the last time a location is visited, passed as an argument to <b>REPLACE</b> client of armor.  <a href="namespacestate__machine.html#a21e08bc96a59c58016e2d87e6f9e3212">More...</a><br /></td></tr>
<tr class="separator:a21e08bc96a59c58016e2d87e6f9e3212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da20d462245ba926d530b894aa23d6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a6da20d462245ba926d530b894aa23d6e">state_machine.timeR2</a> = rospy.get_param(&quot;/visitedAt_R2&quot;)</td></tr>
<tr class="memdesc:a6da20d462245ba926d530b894aa23d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the last time a location is visited, passed as an argument to <b>REPLACE</b> client of armor.  <a href="namespacestate__machine.html#a6da20d462245ba926d530b894aa23d6e">More...</a><br /></td></tr>
<tr class="separator:a6da20d462245ba926d530b894aa23d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca93991e781da9ae7bb4427fc8671efb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#aca93991e781da9ae7bb4427fc8671efb">state_machine.timeR3</a> = rospy.get_param(&quot;/visitedAt_R3&quot;)</td></tr>
<tr class="memdesc:aca93991e781da9ae7bb4427fc8671efb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the last time a location is visited, passed as an argument to <b>REPLACE</b> client of armor.  <a href="namespacestate__machine.html#aca93991e781da9ae7bb4427fc8671efb">More...</a><br /></td></tr>
<tr class="separator:aca93991e781da9ae7bb4427fc8671efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af272d338e053802920329a9881c62ba1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#af272d338e053802920329a9881c62ba1">state_machine.timeR4</a> = rospy.get_param(&quot;/visitedAt_R4&quot;)</td></tr>
<tr class="memdesc:af272d338e053802920329a9881c62ba1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the last time a location is visited, passed as an argument to <b>REPLACE</b> client of armor.  <a href="namespacestate__machine.html#af272d338e053802920329a9881c62ba1">More...</a><br /></td></tr>
<tr class="separator:af272d338e053802920329a9881c62ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6eba414b4420645fc90bbebb8433fa4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#aa6eba414b4420645fc90bbebb8433fa4">state_machine.timeC1</a> = rospy.get_param(&quot;/visitedAt_C1&quot;)</td></tr>
<tr class="memdesc:aa6eba414b4420645fc90bbebb8433fa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the last time a location is visited, passed as an argument to <b>REPLACE</b> client of armor.  <a href="namespacestate__machine.html#aa6eba414b4420645fc90bbebb8433fa4">More...</a><br /></td></tr>
<tr class="separator:aa6eba414b4420645fc90bbebb8433fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5350559c2d48ad48a2d1888f3d40ba09"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a5350559c2d48ad48a2d1888f3d40ba09">state_machine.timeC2</a> = rospy.get_param(&quot;/visitedAt_C2&quot;)</td></tr>
<tr class="memdesc:a5350559c2d48ad48a2d1888f3d40ba09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the last time a location is visited, passed as an argument to <b>REPLACE</b> client of armor.  <a href="namespacestate__machine.html#a5350559c2d48ad48a2d1888f3d40ba09">More...</a><br /></td></tr>
<tr class="separator:a5350559c2d48ad48a2d1888f3d40ba09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9516a25828cb0d257191aad30a641a93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a9516a25828cb0d257191aad30a641a93">state_machine.timeE</a> = rospy.get_param(&quot;/visitedAt_E&quot;)</td></tr>
<tr class="memdesc:a9516a25828cb0d257191aad30a641a93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the last time a location is visited, passed as an argument to <b>REPLACE</b> client of armor.  <a href="namespacestate__machine.html#a9516a25828cb0d257191aad30a641a93">More...</a><br /></td></tr>
<tr class="separator:a9516a25828cb0d257191aad30a641a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a207bfb943e29b1cc4e3f471ab6ca5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#ad8a207bfb943e29b1cc4e3f471ab6ca5">state_machine.time_to_stay_in_location</a> = rospy.get_param(&quot;/time_to_stay_in_location&quot;)</td></tr>
<tr class="memdesc:ad8a207bfb943e29b1cc4e3f471ab6ca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the <b>timestep</b> for one movement, it is the same as the timestep to stay in a location, it is set in the parameter /time_to_stay_in_location, it is <b>1</b> by default.  <a href="namespacestate__machine.html#ad8a207bfb943e29b1cc4e3f471ab6ca5">More...</a><br /></td></tr>
<tr class="separator:ad8a207bfb943e29b1cc4e3f471ab6ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952a65d9f403c0b86bc761eab34e8314"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a952a65d9f403c0b86bc761eab34e8314">state_machine.path</a> = rospy.get_param(&quot;/path&quot;)</td></tr>
<tr class="memdesc:a952a65d9f403c0b86bc761eab34e8314"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the path of the ontology, passed as an argument to the <b>REASON</b> and <b>SAVE</b> clients of armor.  <a href="namespacestate__machine.html#a952a65d9f403c0b86bc761eab34e8314">More...</a><br /></td></tr>
<tr class="separator:a952a65d9f403c0b86bc761eab34e8314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27d703beae985cf5d02da78c56c5fdf6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a27d703beae985cf5d02da78c56c5fdf6">state_machine.client</a> = ArmorClient(&quot;example&quot;, &quot;ontoRef&quot;)</td></tr>
<tr class="memdesc:a27d703beae985cf5d02da78c56c5fdf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main function.  <a href="namespacestate__machine.html#a27d703beae985cf5d02da78c56c5fdf6">More...</a><br /></td></tr>
<tr class="separator:a27d703beae985cf5d02da78c56c5fdf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6793c4913a1241bddf256328c9a01028"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a6793c4913a1241bddf256328c9a01028">state_machine.sm</a> = smach.StateMachine(outcomes=['container_interface'])</td></tr>
<tr class="separator:a6793c4913a1241bddf256328c9a01028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372490be06dbd069bfafaa476a4f9f0b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a372490be06dbd069bfafaa476a4f9f0b">state_machine.transitions</a></td></tr>
<tr class="separator:a372490be06dbd069bfafaa476a4f9f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c431850437f844cabf1123287e44478"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#a0c431850437f844cabf1123287e44478">state_machine.sis</a> = smach_ros.IntrospectionServer('server_name', sm, '/SM_ROOT')</td></tr>
<tr class="separator:a0c431850437f844cabf1123287e44478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf2f3b4f08f91ac415d0c496d674e03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacestate__machine.html#acbf2f3b4f08f91ac415d0c496d674e03">state_machine.outcome</a> = sm.execute()</td></tr>
<tr class="separator:acbf2f3b4f08f91ac415d0c496d674e03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
